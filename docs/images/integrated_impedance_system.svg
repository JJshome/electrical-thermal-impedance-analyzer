<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <!-- Gradient for boxes -->
    <linearGradient id="module-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#ffffff" stop-opacity="1" />
      <stop offset="100%" stop-color="#f0f0f0" stop-opacity="1" />
    </linearGradient>
    
    <!-- Gradient for PCM module -->
    <linearGradient id="pcm-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#a1c4fd" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#c2e9fb" stop-opacity="0.9" />
    </linearGradient>
    
    <!-- Gradient for EIS module -->
    <linearGradient id="eis-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#84fab0" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#8fd3f4" stop-opacity="0.9" />
    </linearGradient>
    
    <!-- Gradient for TIS module -->
    <linearGradient id="tis-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ff9a9e" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#fad0c4" stop-opacity="0.9" />
    </linearGradient>
    
    <!-- Gradient for AI module -->
    <linearGradient id="ai-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#a18cd1" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#fbc2eb" stop-opacity="0.9" />
    </linearGradient>
    
    <!-- Gradient for central processor -->
    <linearGradient id="processor-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#fad0c4" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#ffd1ff" stop-opacity="0.9" />
    </linearGradient>
    
    <!-- Shadow filter -->
    <filter id="drop-shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3" result="blur" />
      <feOffset in="blur" dx="3" dy="3" result="offsetBlur" />
      <feComposite in="SourceGraphic" in2="offsetBlur" operator="over" />
    </filter>
    
    <!-- Connector style -->
    <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" 
            markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#666" />
    </marker>
    
    <!-- Animated data flow -->
    <circle id="data-point" r="3" fill="#4285f4">
      <animate attributeName="opacity" values="1;0.2;1" dur="2s" repeatCount="indefinite" />
    </circle>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#f9f9f9" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    Integrated Impedance System Architecture
  </text>
  
  <!-- System boundary -->
  <rect x="50" y="80" width="700" height="480" rx="15" ry="15" 
        fill="none" stroke="#ccc" stroke-width="2" stroke-dasharray="10,5" />
  
  <!-- EIS Module -->
  <g transform="translate(120, 150)">
    <rect width="180" height="120" rx="10" ry="10" fill="url(#eis-gradient)" filter="url(#drop-shadow)" />
    <text x="90" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      Electrical Impedance
    </text>
    <text x="90" y="50" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      Module (EIS)
    </text>
    
    <!-- Circuit diagram -->
    <g transform="translate(20, 70)">
      <line x1="0" y1="0" x2="30" y2="0" stroke="#333" stroke-width="2" />
      <rect x="30" y="-7.5" width="30" height="15" fill="none" stroke="#333" stroke-width="2" />
      <line x1="60" y1="0" x2="90" y2="0" stroke="#333" stroke-width="2" />
      <line x1="90" y1="-10" x2="90" y2="10" stroke="#333" stroke-width="2" />
      <line x1="100" y1="-10" x2="100" y2="10" stroke="#333" stroke-width="2" />
      <line x1="100" y1="0" x2="140" y2="0" stroke="#333" stroke-width="2" />
    </g>
    
    <!-- Frequency range -->
    <text x="90" y="105" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">
      0.1Hz - 500kHz
    </text>
  </g>
  
  <!-- TIS Module -->
  <g transform="translate(500, 150)">
    <rect width="180" height="120" rx="10" ry="10" fill="url(#tis-gradient)" filter="url(#drop-shadow)" />
    <text x="90" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      Thermal Impedance
    </text>
    <text x="90" y="50" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      Module (TIS)
    </text>
    
    <!-- Thermal diagram -->
    <g transform="translate(20, 70)">
      <line x1="0" y1="0" x2="30" y2="0" stroke="#333" stroke-width="2" />
      <path d="M30,0 L60,0 M35,-10 L55,-10 M35,10 L55,10" stroke="#333" stroke-width="2" />
      <line x1="60" y1="0" x2="90" y2="0" stroke="#333" stroke-width="2" />
      <rect x="90" y="-10" width="30" height="20" rx="5" ry="5" fill="none" stroke="#333" stroke-width="2" />
      <line x1="120" y1="0" x2="140" y2="0" stroke="#333" stroke-width="2" />
    </g>
    
    <!-- Frequency range -->
    <text x="90" y="105" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">
      0.01Hz - 10Hz
    </text>
  </g>
  
  <!-- PCM Thermal Management -->
  <g transform="translate(120, 350)">
    <rect width="180" height="120" rx="10" ry="10" fill="url(#pcm-gradient)" filter="url(#drop-shadow)" />
    <text x="90" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      PCM Thermal
    </text>
    <text x="90" y="50" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      Management
    </text>
    
    <!-- PCM visualization -->
    <g transform="translate(40, 70)">
      <rect x="0" y="0" width="100" height="20" fill="none" stroke="#333" stroke-width="2" />
      <path d="M10,0 L10,20 M20,0 L20,20 M30,0 L30,20 M40,0 L40,20 M50,0 L50,20 M60,0 L60,20 M70,0 L70,20 M80,0 L80,20 M90,0 L90,20" 
            stroke="#333" stroke-width="1" stroke-dasharray="2,2" />
    </g>
    
    <!-- Temperature stability -->
    <text x="90" y="105" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">
      ±0.1°C Stability
    </text>
  </g>
  
  <!-- AI Analysis Module -->
  <g transform="translate(500, 350)">
    <rect width="180" height="120" rx="10" ry="10" fill="url(#ai-gradient)" filter="url(#drop-shadow)" />
    <text x="90" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      AI-based Analysis
    </text>
    <text x="90" y="50" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      Engine
    </text>
    
    <!-- Neural network visualization -->
    <g transform="translate(30, 60)">
      <!-- Input layer -->
      <circle cx="0" cy="0" r="5" fill="#333" />
      <circle cx="0" cy="20" r="5" fill="#333" />
      <circle cx="0" cy="40" r="5" fill="#333" />
      
      <!-- Hidden layer -->
      <circle cx="40" cy="-10" r="5" fill="#333" />
      <circle cx="40" cy="10" r="5" fill="#333" />
      <circle cx="40" cy="30" r="5" fill="#333" />
      <circle cx="40" cy="50" r="5" fill="#333" />
      
      <!-- Output layer -->
      <circle cx="80" cy="0" r="5" fill="#333" />
      <circle cx="80" cy="20" r="5" fill="#333" />
      <circle cx="80" cy="40" r="5" fill="#333" />
      
      <!-- Connections -->
      <g stroke="#333" stroke-width="1">
        <!-- Input to hidden -->
        <line x1="0" y1="0" x2="40" y2="-10" />
        <line x1="0" y1="0" x2="40" y2="10" />
        <line x1="0" y1="0" x2="40" y2="30" />
        <line x1="0" y1="0" x2="40" y2="50" />
        
        <line x1="0" y1="20" x2="40" y2="-10" />
        <line x1="0" y1="20" x2="40" y2="10" />
        <line x1="0" y1="20" x2="40" y2="30" />
        <line x1="0" y1="20" x2="40" y2="50" />
        
        <line x1="0" y1="40" x2="40" y2="-10" />
        <line x1="0" y1="40" x2="40" y2="10" />
        <line x1="0" y1="40" x2="40" y2="30" />
        <line x1="0" y1="40" x2="40" y2="50" />
        
        <!-- Hidden to output -->
        <line x1="40" y1="-10" x2="80" y2="0" />
        <line x1="40" y1="-10" x2="80" y2="20" />
        <line x1="40" y1="-10" x2="80" y2="40" />
        
        <line x1="40" y1="10" x2="80" y2="0" />
        <line x1="40" y1="10" x2="80" y2="20" />
        <line x1="40" y1="10" x2="80" y2="40" />
        
        <line x1="40" y1="30" x2="80" y2="0" />
        <line x1="40" y1="30" x2="80" y2="20" />
        <line x1="40" y1="30" x2="80" y2="40" />
        
        <line x1="40" y1="50" x2="80" y2="0" />
        <line x1="40" y1="50" x2="80" y2="20" />
        <line x1="40" y1="50" x2="80" y2="40" />
      </g>
      
      <!-- Results -->
      <g transform="translate(90, 20)">
        <rect x="0" y="-15" width="40" height="30" fill="none" stroke="#333" stroke-width="1" />
        <line x1="5" y1="-5" x2="35" y2="-5" stroke="#333" stroke-width="1" />
        <line x1="5" y1="5" x2="35" y2="5" stroke="#333" stroke-width="1" />
        <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="1" />
      </g>
    </g>
  </g>
  
  <!-- Central Signal Processor -->
  <g transform="translate(310, 250)">
    <rect width="180" height="120" rx="10" ry="10" fill="url(#processor-gradient)" filter="url(#drop-shadow)" />
    <text x="90" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      Integrated Signal
    </text>
    <text x="90" y="50" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">
      Processor
    </text>
    
    <!-- Processor visualization -->
    <g transform="translate(40, 65)">
      <rect x="0" y="0" width="100" height="40" rx="5" ry="5" fill="none" stroke="#333" stroke-width="2" />
      <line x1="20" y1="0" x2="20" y2="40" stroke="#333" stroke-width="1" />
      <line x1="40" y1="0" x2="40" y2="40" stroke="#333" stroke-width="1" />
      <line x1="60" y1="0" x2="60" y2="40" stroke="#333" stroke-width="1" />
      <line x1="80" y1="0" x2="80" y2="40" stroke="#333" stroke-width="1" />
      <line x1="0" y1="20" x2="100" y2="20" stroke="#333" stroke-width="1" />
    </g>
  </g>
  
  <!-- Connections -->
  <!-- EIS to Processor -->
  <line x1="300" y1="210" x2="310" y2="283" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- TIS to Processor -->
  <line x1="500" y1="210" x2="490" y2="283" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- PCM to TIS -->
  <line x1="210" y1="350" x2="590" y2="270" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- Processor to AI -->
  <line x1="400" y1="370" x2="500" y2="390" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- PCM to Target -->
  <g>
    <line x1="50" y1="410" x2="120" y2="410" stroke="#333" stroke-width="2" />
    <text x="85" y="400" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">
      Target
    </text>
  </g>
  
  <!-- Data flow animation -->
  <g>
    <!-- EIS to Processor -->
    <use xlink:href="#data-point">
      <animateMotion dur="3s" repeatCount="indefinite" 
                    path="M300,210 L310,283" />
    </use>
    
    <!-- TIS to Processor -->
    <use xlink:href="#data-point">
      <animateMotion dur="3s" repeatCount="indefinite" 
                    path="M500,210 L490,283" />
    </use>
    
    <!-- PCM to TIS -->
    <use xlink:href="#data-point">
      <animateMotion dur="4s" repeatCount="indefinite" 
                    path="M210,350 L590,270" />
    </use>
    
    <!-- Processor to AI -->
    <use xlink:href="#data-point">
      <animateMotion dur="2.5s" repeatCount="indefinite" 
                    path="M400,370 L500,390" />
    </use>
  </g>
  
  <!-- Legend -->
  <g transform="translate(70, 500)">
    <text font-family="Arial, sans-serif" font-size="14" font-weight="bold">System Components:</text>
    
    <rect x="0" y="20" width="15" height="15" fill="url(#eis-gradient)" />
    <text x="25" y="32" font-family="Arial, sans-serif" font-size="12">Electrical Impedance Module</text>
    
    <rect x="0" y="45" width="15" height="15" fill="url(#tis-gradient)" />
    <text x="25" y="57" font-family="Arial, sans-serif" font-size="12">Thermal Impedance Module</text>
    
    <rect x="250" y="20" width="15" height="15" fill="url(#pcm-gradient)" />
    <text x="275" y="32" font-family="Arial, sans-serif" font-size="12">PCM Thermal Management</text>
    
    <rect x="250" y="45" width="15" height="15" fill="url(#processor-gradient)" />
    <text x="275" y="57" font-family="Arial, sans-serif" font-size="12">Integrated Signal Processor</text>
    
    <rect x="500" y="20" width="15" height="15" fill="url(#ai-gradient)" />
    <text x="525" y="32" font-family="Arial, sans-serif" font-size="12">AI-based Analysis Engine</text>
    
    <line x1="500" y1="50" x2="515" y2="50" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
    <text x="525" y="57" font-family="Arial, sans-serif" font-size="12">Data Flow</text>
  </g>
</svg>
